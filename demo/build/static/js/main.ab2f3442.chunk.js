(this["webpackJsonpbig-data-project"]=this["webpackJsonpbig-data-project"]||[]).push([[0],{73:function(e,t,n){},75:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),s=n(15),a=n.n(s),o=n(3),i=n(44),l=n(27),u=n.n(l),j=n(2),d=n(38),b=n(7),m=n(36),f=n(8),O=n(4),p=n.n(O),h=n(32),x=n(43),v=n(59),g=n(66),y=n(14),N=n(20),S=n(34),C=n(22),w="https://a27f-35-237-124-108.ngrok.io",k={JavaScript:"grommet-icons:js",TypeScript:"logos:typescript-icon",Python:"logos:python",UNK:"noto:disguised-face",Go:"logos:go","C++":"logos:c-plusplus",Rust:"logos:rust",Java:"logos:java",C:"logos:c",Shell:"vscode-icons:file-type-powershell",Ruby:"logos:ruby",HTML:"logos:html-5",Vue:"logos:vue","C#":"logos:c-sharp",PHP:"logos:php",Swift:"logos:swift",CSS:"logos:css-3","Jupyter Notebook":"logos:jupyter","Vim script":"logos:vim",Dart:"logos:dart",Haskell:"logos:haskell-icon",PowerShell:"vscode-icons:file-type-powershell",Elixir:"vscode-icons:file-type-elixir",Lua:"logos:lua",SCSS:"vscode-icons:file-type-scss2","Emacs Lisp":"vscode-icons:file-type-emacs",Clojure:"logos:clojure",Batchfile:"logos:batch",Scala:"logos:scala",Nix:"vscode-icons:file-type-nix",Crystal:"logos:crystal",Kotlin:"logos:kotlin",CMake:"vscode-icons:file-type-cmake",Groovy:"vscode-icons:file-type-groovy",Markdown:"logos:md",OCaml:"vscode-icons:file-type-ocaml",Nunjucks:"vscode-icons:file-type-nunjucks","Objective-C":"vscode-icons:file-type-objectivec",Blade:"vscode-icons:file-type-blade",V:"file-icons:v",Nim:"vscode-icons:file-type-nim",Dockerfile:"logos:docker-icon",Roff:"akar-icons:file",Assembly:"vscode-icons:file-type-assembly",Julia:"vscode-icons:file-type-julia",Zig:"vscode-icons:file-type-zig",WebAssembly:"logos:webassembly",FreeMarker:"vscode-icons:file-type-freemarker",Makefile:"vscode-icons:file-type-makefile"},I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],M=(n(73),n(1)),P=["name","creator","about","stars","forks","language","sponsor","updated","active"],T=r.a.forwardRef((function(e,t){var n=e.name,c=e.creator,r=e.about,s=e.stars,a=e.forks,i=e.language,l=e.sponsor,u=e.updated,d=e.active,b=Object(o.a)(e,P);return Object(M.jsxs)(S.a,Object(j.a)(Object(j.a)({className:p()("m-2",{active:d}),ref:t},b),{},{children:[Object(M.jsxs)(S.a.Body,{className:"d-flex flex-column",children:[Object(M.jsx)(S.a.Title,{children:Object(M.jsxs)("a",{href:"https://github.com/".concat(c,"/").concat(n),target:"_blank",rel:"noreferrer",onClick:function(e){return e.stopPropagation()},children:[c," / ",n]})}),Object(M.jsx)(S.a.Text,{className:"mb-4 flex-grow-1",children:r}),Object(M.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(M.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(M.jsx)(C.a,{icon:"ant-design:star-outlined",className:"me-2"}),s]}),Object(M.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(M.jsx)(C.a,{icon:"eos-icons:fork-outlined",className:"me-2"}),a]}),Object(M.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(M.jsx)(C.a,{icon:k[i],className:"me-2"}),"UNK"!==i?i:"Unknown"]})]})]}),Object(M.jsxs)(S.a.Footer,{className:p()("d-flex align-items-center text-center",{"justify-content-between":l}),children:[Object(M.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(M.jsx)(C.a,{icon:"bi:calendar-date",className:"me-2"}),"".concat(u.getDate()," ").concat(I[u.getMonth()]," ").concat(u.getFullYear())]}),l&&Object(M.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(M.jsx)(C.a,{icon:"simple-icons:githubsponsors",color:"#db61a2",className:"me-2"}),"Sponsored"]})]})]}))})),F=(n(75),function(){return Object(M.jsxs)("header",{className:"d-flex align-items-center justify-content-between",children:[Object(M.jsx)(m.b,{to:"/",style:{textDecoration:"none",color:"white"},children:Object(M.jsxs)("div",{className:"d-flex",children:[Object(M.jsx)(C.a,{icon:"akar-icons:github-fill"}),Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{className:"m-0",children:"GitHub Recommender System"}),Object(M.jsx)("h3",{className:"m-0",children:"Big Data Project 2020/21"})]})]})}),Object(M.jsx)(h.a,{variant:"green",children:"Project repo"})]})}),R=n(64),A=n(24),E=(n(81),function(e){var t=e.page,n=e.setPage,c=e.size,r=Math.max(0,t-3),s=Math.min(t+2,c);return Object(M.jsx)(R.a,{className:"d-flex justify-content-center mt-4",children:Object(M.jsxs)(A.a,{size:"sm",className:"mb-0",children:[Object(M.jsx)(A.a.Prev,{onClick:function(){return n((function(e){return e-1}))},disabled:1===t,children:"Previous"}),0!==r&&Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(A.a.Item,{onClick:function(){return n(1)},children:"1"}),r>1&&Object(M.jsx)(A.a.Ellipsis,{})]}),Array.from({length:c}).slice(r,s).map((function(e,c){return Object(M.jsx)(A.a.Item,{active:c+r+1===t,onClick:function(){return n(c+r+1)},children:c+r+1},c+r+1)})),s!==c&&Object(M.jsxs)(M.Fragment,{children:[s<c-1&&Object(M.jsx)(A.a.Ellipsis,{}),Object(M.jsx)(A.a.Item,{onClick:function(){return n(c)},children:c})]}),Object(M.jsx)(A.a.Next,{onClick:function(){return n((function(e){return e+1}))},disabled:t===c,children:"Next"})]})})}),L=(n(82),["userId","name","numStarredRepos"]),B=["emojione:blond-haired-person","emojione:blond-haired-person-dark-skin-tone","emojione:blond-haired-person-light-skin-tone","emojione:blond-haired-person-medium-dark-skin-tone","emojione:blond-haired-person-medium-light-skin-tone","emojione:blond-haired-person-medium-skin-tone"],D=function(e){var t=e.userId,n=e.name,c=e.numStarredRepos,r=Object(o.a)(e,L);return Object(M.jsxs)("div",Object(j.a)(Object(j.a)({},r),{},{className:"d-flex m-2 p-2 user-card",children:[Object(M.jsx)(C.a,{icon:B[t%B.length],width:"30px",height:"30px"}),Object(M.jsxs)("div",{className:"px-2",children:[Object(M.jsx)("h1",{className:"m-0 no-wrap",children:n}),Object(M.jsxs)("h2",{className:"m-0",children:["Starred ",c," repos"]})]})]}))},J=n(67),K=n(65),z=(n(83),["repoId"]),H=["repoId","score"],_=["repoId"],U=function(e){var t=e.title,n=e.data,r=e.children,s=Object(c.useState)(1),a=Object(b.a)(s,2),o=a[0],i=a[1];return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)("h1",{className:"mt-4",children:t}),Object(M.jsx)(x.a,{className:"mt-2 g-0 items-list",children:n.slice(5*(o-1),5*(o-1)+5).map(r)}),1!==Math.ceil(n.length/5)&&Object(M.jsx)(E,{page:o,setPage:i,size:Math.ceil(n.length/5)})]})},Y=function(){var e=Object(f.g)(),t=Object(c.useState)(!0),n=Object(b.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)(),i=Object(b.a)(a,2),l=i[0],m=i[1],O=Object(c.useState)(),p=Object(b.a)(O,2),h=p[0],x=p[1],v=Object(c.useState)(),g=Object(b.a)(v,2),y=g[0],N=g[1];return Object(c.useEffect)((function(){console.log(e.state),function(){var t=Object(d.a)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(w,"/recommend"),{method:"POST",body:JSON.stringify(e.state),headers:{"Content-Type":"application/json"}});case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()().then((function(e){console.log(e),m(e.starred.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{repoId:e.repo_id,sponsor:1===e.sponsor,updated:new Date(e.updated)})}))),x(e.predictions.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{repoId:e.repo_id,sponsor:1===e.sponsor,updated:new Date(e.updated)})}))),e.gt&&N(e.gt.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{repoId:e.repo_id,sponsor:1===e.sponsor,updated:new Date(e.updated)})}))),s(!1)}))}),[]),r?Object(M.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center w-100 mt-4 results",children:[Object(M.jsx)("h1",{children:"Predicting..."}),Object(M.jsx)("img",{className:"mt-2",src:"https://c.tenor.com/mPZu033P8GAAAAAC/the-hang-over-zach-galifianakis.gif"})]}):Object(M.jsxs)("div",{className:"results",children:[Object(M.jsx)(F,{}),Object(M.jsxs)("div",{className:"p-2",children:[l&&Object(M.jsx)(U,{title:"Previously Starred",data:l,children:function(e){var t=e.repoId,n=Object(o.a)(e,z);return Object(M.jsx)(T,Object(j.a)({},n),t)}}),h&&Object(M.jsx)(U,{title:"Predictions",data:h.sort((function(e,t){return t.score-e.score})),children:function(e){var t=e.repoId,n=e.score,c=Object(o.a)(e,H);return Object(M.jsx)(J.a,{placement:"top",overlay:Object(M.jsxs)(K.a,{children:["Score: ",n.toFixed(3)]}),children:Object(M.jsx)(T,Object(j.a)(Object(j.a)({},c),{},{active:y&&Object.values(y).find((function(e){return e.repoId===t}))}))},t)}}),y&&Object(M.jsx)(U,{title:"Ground Truth",data:y,children:function(e){var t=e.repoId,n=Object(o.a)(e,_);return Object(M.jsx)(T,Object(j.a)(Object(j.a)({},n),{},{active:Object.values(h).find((function(e){return e.repoId===t}))}),t)}})]})]})},G=(n(84),["repoId"]),V=function(){var e=Object(c.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),a=Object(b.a)(s,2),o=a[0],i=a[1];return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(F,{}),Object(M.jsxs)("div",{className:"content d-flex",children:[Object(M.jsxs)("div",{className:"w-75",children:[Object(M.jsx)(Z,{model:n,K:o}),Object(M.jsx)(W,{model:n,K:o})]}),Object(M.jsx)("div",{className:"w-25",children:Object(M.jsx)(q,{selectedModel:n,onModelSelect:r,numberOfRepos:o,onNumberOfRepos:i})})]})]})},Z=function(e){var t=e.model,n=e.K,r=Object(f.f)(),s=Object(c.useState)([]),a=Object(b.a)(s,2),l=a[0],m=a[1],O=Object(c.useState)(null),S=Object(b.a)(O,2),C=S[0],I=S[1],P=Object(c.useState)(1),F=Object(b.a)(P,2),R=F[0],A=F[1],L=Object(c.useState)(""),B=Object(b.a)(L,2),D=B[0],J=B[1],K=Object(c.useState)(""),z=Object(b.a)(K,2),H=z[0],_=z[1],U=Object(c.useState)(""),Y=Object(b.a)(U,2),V=Y[0],Z=Y[1],W=Object(c.useState)(""),q=Object(b.a)(W,2),Q=q[0],X=q[1],$=Object(c.useState)(""),ee=Object(b.a)($,2),te=ee[0],ne=ee[1],ce=Object(c.useState)(!1),re=Object(b.a)(ce,2),se=re[0],ae=re[1],oe=Object(c.useState)(""),ie=Object(b.a)(oe,2),le=ie[0],ue=ie[1];Object(c.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/repos"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{repoId:e.repo_id,sponsor:1===e.sponsor,updated:new Date(e.updated)})})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then(I)}),[]);var je=Object(c.useMemo)((function(){return C&&C.sort((function(e,t){return t.stars-e.stars})).filter((function(e){var t=e.repoId;return!D||t===parseInt(D,10)})).filter((function(e){var t=e.creator;return!H||t.toLowerCase().includes(H.toLowerCase())})).filter((function(e){var t=e.name;return!V||t.toLowerCase().includes(V.toLowerCase())})).filter((function(e){var t=e.about;return!Q||t.toLowerCase().includes(Q.toLowerCase())})).filter((function(e){var t=e.language;return!te||"All languages"===te||t===te}))}),[C,D,H,V,Q,te]);Object(c.useEffect)((function(){je&&A((function(e){var t=Math.ceil(je.length/8),n=Math.max(1,t);return Math.min(n,e)}))}),[je,R]);return Object(M.jsxs)("div",{className:"p-4 prediction from-repos",children:[Object(M.jsxs)(N.a,{show:se,onHide:function(){return ae(!1)},children:[Object(M.jsx)(N.a.Header,{children:Object(M.jsx)(N.a.Title,{className:"m-auto fw-bold",children:"Error"})}),Object(M.jsx)(N.a.Body,{children:le}),Object(M.jsx)(N.a.Footer,{children:Object(M.jsx)(h.a,{variant:"primary",onClick:function(){return ae(!1)},children:"Close"})})]}),Object(M.jsxs)("div",{className:"d-flex justify-content-between align-items-center header",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)("h1",{className:"m-0",children:"Predict from starred repos"}),Object(M.jsx)("p",{children:"Select the repos you want..."})]}),Object(M.jsx)("div",{children:Object(M.jsx)(h.a,{variant:"green",onClick:function(){if(0===l.length)return ue("You need to select at least one repo"),void ae(!0);if(""===t)return ue("You need to select a model"),void ae(!0);if(""===n)return ue("You need to indicate the number of repos to recommend"),void ae(!0);var e={pathname:"/recommend",state:{model:t,params:{starred_repos_list:l.map((function(e){return e.repoId})),K:parseInt(n)}}};r.push(e)},children:"Predict"})})]}),Object(M.jsxs)(y.a,{className:"d-flex",children:[Object(M.jsx)(y.a.Control,{className:"me-2",type:"text",placeholder:"Repo id",value:D,onChange:function(e){return J(e.currentTarget.value)},style:{flex:1}}),Object(M.jsx)(y.a.Control,{className:"me-2",type:"text",placeholder:"Creator",value:H,onChange:function(e){return _(e.currentTarget.value)},style:{flex:2}}),Object(M.jsx)(y.a.Control,{className:"me-2",type:"text",placeholder:"Name",value:V,onChange:function(e){return Z(e.currentTarget.value)},style:{flex:2}}),Object(M.jsx)(y.a.Control,{className:"me-2",type:"text",placeholder:"Keyword",value:Q,onChange:function(e){return X(e.currentTarget.value)},style:{flex:3}}),Object(M.jsxs)(y.a.Select,{value:te,onChange:function(e){return ne(e.currentTarget.value)},style:{flex:2},children:[Object(M.jsx)("option",{children:"All languages"}),Object.keys(k).map((function(e){return Object(M.jsx)("option",{value:e,children:e},e)}))]})]}),l&&l.map((function(e){var t=e.repoId,n=e.creator,c=e.name;return Object(M.jsx)(g.a,{className:"mx-1 mb-2 mt-3",pill:!0,onClick:function(){return function(e){I((function(t){return[].concat(Object(i.a)(t),[l.find((function(t){return t.repoId===e}))])})),m((function(t){return t.filter((function(t){return t.repoId!==e}))}))}(t)},style:{cursor:"pointer"},children:n+" / "+c},t)})),Object(M.jsxs)(x.a,{className:p()("mt-2 g-0 items-list",{"justify-content-center align-items-center":!C}),children:[!C&&Object(M.jsx)(v.a,{animation:"grow"}),C&&je.slice(8*(R-1),8*(R-1)+8).map((function(e){var t=e.repoId,n=Object(o.a)(e,G);return Object(M.jsx)(T,Object(j.a)(Object(j.a)({},n),{},{onClick:function(){return function(e){m((function(t){return[].concat(Object(i.a)(t),[C.find((function(t){return t.repoId===e}))])})),I((function(t){return t.filter((function(t){return t.repoId!==e}))}))}(t)}}),t)})),C&&0===je.length&&Object(M.jsx)("p",{className:"mt-4 text-center",children:"No results"})]}),C&&Object(M.jsx)(E,{page:R,setPage:A,size:Math.ceil(je.length/8)})]})},W=function(e){var t=e.model,n=e.K,r=Object(f.f)(),s=Object(c.useState)(null),a=Object(b.a)(s,2),o=a[0],i=a[1],l=Object(c.useState)(1),j=Object(b.a)(l,2),m=j[0],O=j[1],g=Object(c.useState)(""),S=Object(b.a)(g,2),C=S[0],k=S[1],I=Object(c.useState)(""),P=Object(b.a)(I,2),T=P[0],F=P[1],R=Object(c.useState)(!1),A=Object(b.a)(R,2),L=A[0],B=A[1],J=Object(c.useState)(""),K=Object(b.a)(J,2),z=K[0],H=K[1];Object(c.useEffect)((function(){(function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(w,"/users"));case 2:return t=e.sent,e.next=5,t.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then(i)}),[]);var _=Object(c.useMemo)((function(){return o&&o.sort((function(e,t){return t.numStarredRepos-e.numStarredRepos})).filter((function(e){var t=e.userId;return!C||t===parseInt(C,10)})).filter((function(e){var t=e.name;return!T||t.toLowerCase().includes(T.toLowerCase())}))}),[o,C,T]);return Object(c.useEffect)((function(){_&&O((function(e){var t=Math.ceil(_.length/8),n=Math.max(1,t);return Math.min(n,e)}))}),[_,m]),Object(M.jsxs)("div",{className:"p-4 prediction from-user",children:[Object(M.jsxs)(N.a,{show:L,onHide:function(){return B(!1)},children:[Object(M.jsx)(N.a.Header,{children:Object(M.jsx)(N.a.Title,{className:"m-auto fw-bold",children:"Error"})}),Object(M.jsx)(N.a.Body,{children:z}),Object(M.jsx)(N.a.Footer,{children:Object(M.jsx)(h.a,{variant:"primary",onClick:function(){return B(!1)},children:"Close"})})]}),Object(M.jsxs)("div",{className:"header",children:[Object(M.jsx)("h1",{className:"m-0",children:"Predict from user"}),Object(M.jsx)("p",{children:"Select the user you want..."})]}),Object(M.jsxs)(y.a,{className:"d-flex",children:[Object(M.jsx)(y.a.Control,{className:"me-2",type:"text",placeholder:"User id",value:C,onChange:function(e){return k(e.currentTarget.value)}}),Object(M.jsx)(y.a.Control,{className:"me-2",type:"text",placeholder:"Name",value:T,onChange:function(e){return F(e.currentTarget.value)}})]}),Object(M.jsxs)(x.a,{className:p()("mt-2 g-0 items-list",{"justify-content-center align-items-center":!o}),children:[!o&&Object(M.jsx)(v.a,{animation:"grow"}),_&&_.slice(40*(m-1),40*(m-1)+40).map((function(e){var c=e.userId,s=e.name,a=e.numStarredRepos;return Object(M.jsx)(D,{userId:c,name:s,numStarredRepos:a,onClick:function(){return function(e){if(""===t)return H("You need to select a model"),void B(!0);if(""===n)return H("You need to indicate the number of repos to recommend"),void B(!0);var c={pathname:"/recommend",state:{model:t,params:{user_id:e,K:parseInt(n)}}};r.push(c)}(c)}},c)})),o&&0===_.length&&Object(M.jsx)("p",{className:"mt-4 text-center",children:"No results"})]}),o&&Object(M.jsx)(E,{page:m,setPage:O,size:Math.ceil(_.length/8)})]})},q=function(e){var t=e.selectedModel,n=e.onModelSelect,c=e.numberOfRepos,r=e.onNumberOfRepos;return Object(M.jsxs)("div",{className:"p-4 settings",children:[Object(M.jsx)("div",{className:"header mb-3",children:Object(M.jsx)("h1",{children:"Settings"})}),Object(M.jsxs)(y.a,{children:[Object(M.jsxs)(y.a.Select,{className:"my-2",value:t,onChange:function(e){return n(e.currentTarget.value)},children:[Object(M.jsx)("option",{value:"",children:"Select model"}),Object(M.jsx)("option",{value:"CB",children:"Content-based Filtering"}),Object(M.jsx)("option",{value:"UB",children:"User-based Collaborative Filtering"}),Object(M.jsx)("option",{value:"IB",children:"Item-based Collaborative Filtering"}),Object(M.jsx)("option",{value:"MF",children:"Matrix Factorization (ALS)"})]}),Object(M.jsx)(y.a.Control,{className:"my-2",value:c,onChange:function(e){return r(e.currentTarget.value)},type:"number",placeholder:"Number of recommended repos"})]}),Object(M.jsx)("div",{className:"header mt-4 mb-3",children:Object(M.jsx)("h1",{children:"Statistics"})}),Object(M.jsx)("p",{children:"...Bunch of statistics..."})]})},Q=function(){return Object(M.jsx)("div",{className:"App",children:Object(M.jsx)(m.a,{children:Object(M.jsxs)(f.c,{children:[Object(M.jsx)(f.a,{path:"/recommend",component:Y}),Object(M.jsx)(f.a,{path:"/",component:V})]})})})},X=(n(85),document.getElementById("root"));a.a.render(Object(M.jsx)(c.StrictMode,{children:Object(M.jsx)(Q,{})}),X)}},[[86,1,2]]]);
//# sourceMappingURL=main.ab2f3442.chunk.js.map